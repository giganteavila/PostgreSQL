os esquemas se pueden utilizar para organizar sus datos de muchas maneras. Un *patrón de uso de esquema seguro* evita que los usuarios no confiables cambien el comportamiento de las  consultas de otros usuarios. Cuando una base de datos no utiliza un  patrón de uso de esquema seguro, los usuarios que deseen consultar de  forma segura esa base de datos tomarían medidas de protección al  principio de cada sesión. En concreto, comenzarían cada sesión fijando  `search_path`a la cadena vacía o la eliminación de esquemas que son escritos por no-superusuarios de `search_path`. Hay algunos patrones de uso fácilmente compatibles con la configuración predeterminada:

- Limita a los usuarios comunes a esquemas privados de  usuario. Para implementar este patrón, primero asegúrese de que ninguna  esquema tiene público  `CREATE`privilegios. Luego, para cada usuario que necesite crear objetos no temporales, cree un esquema con el mismo nombre que ese usuario, por ejemplo `CREATE SCHEMA alice AUTHORIZATION alice`. (Recuerde que la ruta de búsqueda predeterminada comienza con `$user`, que se resuelve al nombre de usuario. Por lo tanto, si cada usuario  tiene un esquema separado, accede a sus propios esquemas por defecto.)  Este patrón es un patrón de uso de esquema seguro a menos que un usuario desconfiado sea el propietario de la base de datos o se le haya  concedido  `ADMIN OPTION`en un papel relevante, en cuyo caso no existe un patrón seguro de uso de esquemas.

  En PostgreSQL 15 y posterior, la configuración predeterminada soporta este patrón de  uso. En versiones anteriores, o cuando se utiliza una base de datos que  ha sido actualizada de una versión anterior, tendrá que eliminar al  público  `CREATE`privilegio del  `public`esquema (escuado `REVOKE CREATE ON SCHEMA public FROM PUBLIC`). Entonces considera la posibilidad de auditar la  `public`esquema de objetos llamados como objetos en esquema `pg_catalog`.

- Retire el esquema público de la ruta de búsqueda predeterminada, modificando  [`postgresql.conf`](https://www.postgresql.org/docs/current/config-setting.html#CONFIG-SETTING-CONFIGURATION-FILE)o mediante la expedición `ALTER ROLE ALL SET search_path = "$user"`. Entonces, otorga privilegios para crear en el esquema público. Sólo los nombres calificados elegirán objetos de esquema públicos. Aunque las  referencias de tablas calificadas están bien, las llamadas a funciones  en el esquema público [serán inseguras o poco confiables](https://www.postgresql.org/docs/current/typeconv-func.html). Si crea funciones o extensiones en el esquema público, utilice el  primer patrón en su lugar. De lo contrario, al igual que el primer  patrón, esto es seguro a menos que un usuario desconfiado sea el  propietario de la base de datos o se le haya concedido  `ADMIN OPTION`en un papel relevante.

- Mantenga la ruta de búsqueda predeterminada y conceda  privilegios para crear en el esquema público. Todos los usuarios acceden implícitamente al esquema público. Esto simula la situación en la que  las esquemas no están disponibles en absoluto, dando una transición  suave del mundo no consciente del software. Sin embargo, esto nunca es  un patrón seguro. Es aceptable sólo cuando la base de datos tiene un  solo usuario o unos pocos usuarios de confianza mutua. En bases de datos actualizadas de PostgreSQL 14 o anteriores, esto es el valor predeterminado.

Para cualquier patrón, para instalar aplicaciones compartidas  (tableros para ser utilizados por todos, funciones adicionales  proporcionadas por terceros, etc.), ponerlas en esquemas separados.  Recuerde conceder privilegios adecuados para permitir que los otros  usuarios accedan a ellos. Los usuarios pueden referirse a estos objetos  adicionales calebando los nombres con un nombre de esquema, o pueden  poner los esquemas adicionales en su ruta de búsqueda, como ellos  elijan.