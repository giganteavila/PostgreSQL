Si la consulta contiene funciones de ventana (ver [sección 3.5](https://www.postgresql.org/docs/current/tutorial-window.html), [sección 9.22](https://www.postgresql.org/docs/current/functions-window.html) y [sección 4.2.8](https://www.postgresql.org/docs/current/sql-expressions.html#SYNTAX-WINDOW-FUNCTIONS)), estas funciones se evalúan después de cualquier agrupación, agregación y  `HAVING`El filtrado se realiza. Es decir, si la consulta utiliza algún agregado, `GROUP BY`, o `HAVING`, entonces las filas vistas por las funciones de la ventana son las filas de grupo en lugar de las filas de mesa originales de `FROM`/`WHERE`.

Cuando se utilizan múltiples funciones de ventana, todas las  funciones de la ventana tienen equivalente sintácticamente equivalente  `PARTITION BY`y  `ORDER BY`Las cláusulas en sus definiciones de ventanas están garantizadas para ser  evaluadas en un solo pase sobre los datos. Por lo tanto verán el mismo  orden de orden, incluso si el  `ORDER BY`no determina de manera única un ordenamiento. Sin embargo, no se dan garantías sobre la evaluación de funciones que tienen  `PARTITION BY`o o  `ORDER BY`especificaciones. (En tales casos se requiere un paso de tipo típicamente entre los pases de las evaluaciones de la función de la ventana, y el tipo no está  garantizado para preservar el orden de las filas que su  `ORDER BY`ve como equivalente.)

Actualmente, las funciones de la ventana siempre requieren datos  pre-sorte, por lo que la salida de consulta se ordenará de acuerdo con  una u otra de las funciones de la ventana' `PARTITION BY`/ `ORDER BY`cláusulas. Sin embargo, no se recomienda confiar en esto. Utilícese un nivel superior explícito  `ORDER BY`cláusula si quieres estar seguro de que los resultados se clasifican de una manera particular.