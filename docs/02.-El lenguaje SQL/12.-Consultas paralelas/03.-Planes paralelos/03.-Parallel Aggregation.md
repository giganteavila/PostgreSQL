PostgreSQL soporta la agregación paralela agregando en dos etapas. Primero, cada  proceso de participación en la parte paralela de la consulta realiza un  paso de agregación, produciendo un resultado parcial para cada grupo del que ese proceso está al tanto. Esto se refleja en el plan como  `Partial Aggregate`Nodo. En segundo lugar, los resultados parciales se transfieren al líder vía  `Gather`o o `Gather Merge`. Finalmente, el líder reasigna los resultados en todos los trabajadores  para producir el resultado final. Esto se refleja en el plan como  `Finalize Aggregate`Nodo.

Porque el  `Finalize Aggregate`el nodo se ejecuta en el proceso de líder, las consultas que producen un  número relativamente grande de grupos en comparación con el número de  filas de entradas parecerán menos favorables para el planificador de  consultas. Por ejemplo, en el peor de los casos el número de grupos  vistos por la  `Finalize Aggregate`el nodo podría ser tanto como el número de filas de entradas que fueron  vistas por todos los procesos de los trabajadores en el  `Partial Aggregate`etapa. Para estos casos, es evidente que no va a haber ningún beneficio de  rendimiento para utilizar la agregación paralela. El planificador de  consultas tiene esto en cuenta durante el proceso de planificación y es  poco probable que elija agregado paralelo en este escenario.

La agregación paralela no se apoya en todas las situaciones. Cada agregado debe ser [seguro](https://www.postgresql.org/docs/current/parallel-safety.html) para el paralelismo y debe tener una función combinada. Si el agregado tiene un estado de transición de tipo `internal`, debe tener funciones de serialización y desserialización. Consulte [CREATE AGGREGATE](https://www.postgresql.org/docs/current/sql-createaggregate.html) para más detalles. La agregación paralela no se admite si contiene cualquier llamada de función agregada  `DISTINCT`o o  `ORDER BY`cláusula y tampoco se apoya para los agregados de conjunto ordenados o cuando la consulta implica `GROUPING SETS`. Sólo se puede utilizar cuando todas las uniones involucradas en la consulta también son parte de la parte paralela del plan.