Cuando el optimizador determina que la consulta paralela es la  estrategia de ejecución más rápida para una consulta en particular,  creará un plan de consulta que incluye un nodo *de Gather* *o Gather Merge*. He aquí un simple ejemplo:

```
EXPLAIN SELECT * DESDE pgbench.cuentas WHERE filler LIKE '%x%';
                                     QUERY PLAN
A------------------------------------------------------------------------------------------------------------
 Recopilar (costo=1000.00..217018.43 filas=1 anchura=97)
   Trabajadores Planeado: 2
   --- Parallel Seq Scan en pgbench-accounts (costo=0.00,01.216018.33 filas=1 anchura=97)
         Filter: (filler . '%x%%'::texto)
(4 filas)
```

En todos los casos, la  `Gather`o o  `Gather Merge`el nodo tendrá exactamente un plan para niños, que es la parte del plan que se ejecutará en paralelo. Si el  `Gather`o o  `Gather Merge`el nodo está en la parte superior del árbol de la plana, entonces toda la  consulta se ejecutará en paralelo. Si está en otro lugar en el árbol de  la planta, entonces sólo la parte del plan de abajo funcionará en  paralelo. En el ejemplo anterior, la consulta accede a una sola tabla,  por lo que sólo hay un nodo de plan que el  `Gather`senos en sí; ya que ese nodo de plan es un hijo de la  `Gather`Nodo, correrá en paralelo.

[Usando EXPLAIN](https://www.postgresql.org/docs/current/using-explain.html), se puede ver el número de trabajadores elegidos por el planificador. Cuando el  `Gather`Durante la ejecución de la consulta, el proceso que está implementando la sesión del usuario solicitará una serie de [procesos de trabajo de antecedentes](https://www.postgresql.org/docs/current/bgworker.html) iguales al número de trabajadores elegidos por el planificador. El  número de trabajadores de antecedentes que el planificador considerará  el uso se limita a como máximo en un máximo de lo general [max-parallel-workers.per-gather](https://www.postgresql.org/docs/current/runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS-PER-GATHER). El número total de trabajadores de origen que pueden existir en cualquier momento está limitado por tanto por los [procesos](https://www.postgresql.org/docs/current/runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES) de [max-worker y](https://www.postgresql.org/docs/current/runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES) los [trabajadores](https://www.postgresql.org/docs/current/runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS) de [max-parallel.](https://www.postgresql.org/docs/current/runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS) Por lo tanto, es posible que una consulta paralela funcione con menos  trabajadores de lo planeado, o incluso sin trabajadores en absoluto. El  plan óptimo puede depender del número de trabajadores disponibles, por  lo que esto puede resultar en un mal desempeño de consulta. Si esta  ocurrencia es frecuente, considere aumentar  `max_worker_processes`y  `max_parallel_workers`para que más trabajadores puedan ser administrados simultáneamente o reduciando alternativamente  para que el planificador solicite menos trabajadores.

Cada proceso de trabajo de antecedentes que se inicia con éxito  para una consulta paralela dada ejecutará la parte paralela del plan. El líder también ejecutará esa parte del plan, pero tiene una  responsabilidad adicional: también debe leer todas las tuples generadas  por los trabajadores. Cuando la porción paralela del plan genera sólo un pequeño número de tuples, el líder a menudo se comportará muy parecido a un trabajador adicional, acelerando la ejecución de consultas. Por el  contrario, cuando la porción paralela del plan genera un gran número de  tuples, el líder puede estar casi totalmente ocupado con la lectura de  las tuples generadas por los trabajadores y realizando cualquier otro  paso de procesamiento que se requiera por los nodos del plan por encima  del nivel de la  `Gather`nodo o  `Gather Merge`Nodo. En estos casos, el líder hará muy poco del trabajo de ejecutar la parte paralela del plan.

Cuando el nodo en la parte superior de la porción paralela del plan es  `Gather Merge`en lugar de `Gather`, indica que cada proceso que ejecuta la parte paralela del plan está  produciendo tuples en orden ordenado, y que el líder está realizando una fusión de conservación de orden. En contraste,  `Gather`Lee tuples de los trabajadores en cualquier orden que sea conveniente, destruyendo cualquier orden que haya existido.