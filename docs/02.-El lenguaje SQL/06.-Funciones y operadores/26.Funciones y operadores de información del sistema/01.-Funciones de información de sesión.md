[En](https://www.postgresql.org/docs/current/functions-info.html#FUNCTIONS-INFO-SESSION-TABLE) el cuadro [9.67](https://www.postgresql.org/docs/current/functions-info.html#FUNCTIONS-INFO-SESSION-TABLE) se indican varias funciones que extraen la información de sesión y del sistema.

Además de las funciones enumeradas en esta sección, hay una serie de funciones relacionadas con el sistema de estadísticas que también  proporcionan información del sistema. Para más información véase .

**Cuadro 9.67. Funciones de información de sesión**

| Función                Descripción                           |
| ------------------------------------------------------------ |
| `current_catalog`- `name`                  `current_database`() `name`                Devuelve el nombre de la base de datos actual. (Las bases de datos se llaman catálogos en el estándar SQL, por lo que  `current_catalog`es la ortaño estándar.) |
| `current_query`() `text`                Devuelve el texto de la consulta actualmente  ejecutada, según lo presentado por el cliente (que podría contener más  de una declaración). |
| `current_role`- `name`                Esto equivale a `current_user`. |
| `current_schema`- `name`                 `current_schema`()                 Devuelve el nombre del esquema que es primero en la  ruta de búsqueda (o un valor nulo si la ruta de búsqueda está vacía).  Este es el esquema que se utilizará para cualquier tabla u otros objetos nombrados que se crean sin especificar un esquema de destino. |
| `current_schemas`(   *`include_implicit`*`boolean`) . `name[]`                Devuelve una matriz de los nombres de todos los  esquemas actualmente en la ruta de búsqueda efectiva, en su orden  prioritario. (Síems en el actual entorno [de búsqueda-path](https://www.postgresql.org/docs/current/runtime-config-client.html#GUC-SEARCH-PATH) que no se corresponden con esquemas existentes y buscables se omiten.) Si el argumento booleano es `true`, entonces esquemas del sistema de búsqueda implícita - tales como  `pg_catalog`se incluyen en el resultado. |
| `current_user`- `name`                Devuelve el nombre de usuario del contexto de ejecución actual. |
| `inet_client_addr`() `inet`                Devuelve la dirección IP del cliente actual, o  `NULL`si la conexión actual es a través de un enchute Unix-domain. |
| `inet_client_port`() `integer`                Devuelve el número de puerto IP del cliente actual, o  `NULL`si la conexión actual es a través de un enchute Unix-domain. |
| `inet_server_addr`() `inet`                Devuelve la dirección IP en la que el servidor aceptó la conexión actual, o  `NULL`si la conexión actual es a través de un enchute Unix-domain. |
| `inet_server_port`() `integer`                Devuelve el número de puerto IP en el que el servidor aceptó la conexión actual, o  `NULL`si la conexión actual es a través de un enchute Unix-domain. |
| `pg_backend_pid`() `integer`                Devuelve el ID de proceso del proceso del servidor conectada a la sesión actual. |
| `pg_blocking_pids`(  `integer`) . `integer[]`                Devuelve una matriz de ID de proceso (s) de las  sesiones que están bloqueando el proceso del servidor con el ID de  proceso especificado de adquisición de una cerramiento, o una matriz  vacía si no existe tal proceso de servidor o no está bloqueado.                Un proceso de servidor bloquea otro si mantiene un  bloqueo que entra en conflicto con la solicitud de bloqueo del proceso  bloqueado (bloqueo duro), o está esperando una cerradura que entraría en conflicto con la solicitud de bloqueo del proceso bloqueado y está por  delante de ella en la cola de espera (bloqueo suave). Cuando se utilizan consultas paralelas el resultado siempre enumera identificaciones de  proceso de consulta con el cliente (es decir,  `pg_backend_pid`resultados) incluso si la cerradura real es mantenida o esperada por un proceso de  trabajador infantil. Como resultado de ello, puede haber PIDs duplicados en el resultado. También tenga en cuenta que cuando una transacción  preparada mantenga una cerradura conflictiva, estará representada por un ID de proceso cero.                Las llamadas frecuentes a esta función podrían tener  algún impacto en el desempeño de la base de datos, porque necesita  acceso exclusivo al estado compartido del administrador de bloqueo por  un corto tiempo. |
| `pg_conf_load_time`() `timestamp with time zone`                Devuelve el momento en que los archivos de  configuración del servidor fueron cargados por última vez. Si la sesión  actual estaba viva en ese momento, este será el momento en que la sesión en sí releí los archivos de configuración (por lo que la lectura  variará un poco en sesiones diferentes). De lo contrario es el momento  en que el proceso de postmaster relee los archivos de configuración. |
| `pg_current_logfile`( [  `text`] . `text`                Devuelve el nombre de la ruta del archivo de registro actualmente en uso por el coleccionador de registro. La ruta incluye el directorio [log-directory](https://www.postgresql.org/docs/current/runtime-config-logging.html#GUC-LOG-DIRECTORY) y el nombre del archivo de registro individual. El resultado es  `NULL`si el coleccionista de tala está deshabilitado. Cuando existen varios archivos de registro, cada uno en un formato diferente,  `pg_current_logfile`sin un argumento devuelve la ruta del archivo que tiene el primer formato encontrado en la lista ordenada: `stderr`, `csvlog`, `jsonlog`.  `NULL`se devuelve si ningún archivo de registro tiene alguno de estos formatos.  Para solicitar información sobre un formato de archivo de registro  específico, suminisgue ya sea `csvlog`,  `jsonlog`o o  `stderr`como valor del parámetro opcional. El resultado es  `NULL`si el formato de registro solicitado no está configurado en [log-destination](https://www.postgresql.org/docs/current/runtime-config-logging.html#GUC-LOG-DESTINATION). El resultado refleja el contenido de la  `current_logfiles`Archivo. |
| `pg_my_temp_schema`() `oid`                Devuelve la OID del esquema temporal de la sesión  actual, o cero si no tiene ninguno (porque no ha creado ninguna tabla  temporal). |
| `pg_is_other_temp_schema`(  `oid`) . `boolean`                Devuelve cierto si la OID dada es la OID del esquema  temporal de otra sesión. (Esto puede ser útil, por ejemplo, para excluir las tablas temporales de otras sesiones de una pantalla del catálogo.) |
| `pg_jit_available`() `boolean`                Devuelve cierto si a  JITLa extensión del compilador está disponible (ver [Capítulo 32](https://www.postgresql.org/docs/current/jit.html)) y el parámetro [de](https://www.postgresql.org/docs/current/runtime-config-query.html#GUC-JIT) configuración [de jit](https://www.postgresql.org/docs/current/runtime-config-query.html#GUC-JIT) se establece en `on`. |
| `pg_listening_channels`() `setof text`                Devuelve el conjunto de nombres de los canales de notificación asincrónica que la sesión actual está escuchando. |
| `pg_notification_queue_usage`() `double precision`                Devuelve la fracción (0o1) del tamaño máximo de la  cola de notificación asincrónica que está ocupada actualmente por  notificaciones que están a la espera de ser procesada. [Vea LISTEN](https://www.postgresql.org/docs/current/sql-listen.html) y [NOTIFY](https://www.postgresql.org/docs/current/sql-notify.html) para más información. |
| `pg_postmaster_start_time`() `timestamp with time zone`                Devuelve el tiempo en que el servidor comenzó. |
| `pg_safe_snapshot_blocking_pids`(  `integer`) . `integer[]`                Devuelve una matriz de ID(s) del proceso de las  sesiones que están bloqueando el proceso del servidor con el ID de  proceso especificado de adquirir una instantánea segura, o una matriz  vacía si no hay tal proceso de servidor o no está bloqueado.                Una sesión de ejecución de  `SERIALIZABLE`transacción bloquea a  `SERIALIZABLE READ ONLY DEFERRABLE`la adquisición de una instantánea hasta que ésta determine que es seguro evitar tomar cualquier cerra candado predicado. Véase [la sección 13.2.3](https://www.postgresql.org/docs/current/transaction-iso.html#XACT-SERIALIZABLE) para más información sobre las transacciones en serie y deferrables.                Las llamadas frecuentes a esta función podrían tener  algún impacto en el desempeño de la base de datos, porque necesita  acceso al estado compartido del administrador de bloqueo predicado por  un corto tiempo. |
| `pg_trigger_depth`() `integer`                Devuelve el nivel actual de anidación de los desencadenantes PostgreSQL (0 si no se llama, directa o indirectamente, desde el interior de un disparador). |
| `session_user`- `name`                Devuelve el nombre del usuario de la sesión. |
| `system_user`- `text`                Devuelve el método de autenticación y la identidad  (si la hay) que el usuario presentó durante el ciclo de autenticación  antes de que se les asignara una función de base de datos. Está  representada como  `auth_method:identity`o o  `NULL`si el usuario no ha sido autenticado (por ejemplo, si se ha utilizado [la autenticación](https://www.postgresql.org/docs/current/auth-trust.html) de [confianza](https://www.postgresql.org/docs/current/auth-trust.html)). |
| `user`- `name`                Esto equivale a `current_user`. |
| `version`() `text`                Devuelve una cadena que describe la versión del servidor PostgreSQL. También puede obtener esta información de [server-version](https://www.postgresql.org/docs/current/runtime-config-preset.html#GUC-SERVER-VERSION), o para una versión legible por máquina use [server.version.num](https://www.postgresql.org/docs/current/runtime-config-preset.html#GUC-SERVER-VERSION-NUM). Los desarrolladores de software deben usar  `server_version_num`(disponible desde 8.2) o  [`PQserverVersion`](https://www.postgresql.org/docs/current/libpq-status.html#LIBPQ-PQSERVERVERSION)en lugar de analizar la versión de texto. |

### Nota

`current_catalog`, `current_role`, `current_schema`, `current_user`, `session_user`, y  `user`tener un estatus sintáctica especial en SQL: deben ser llamados sin paréntesis. En PostgreSQL, los paréntesis se pueden usar opcionalmente con `current_schema`, pero no con los otros.

El  `session_user`es normalmente el usuario que inició la conexión actual de la base de  datos; pero los superusuarios pueden cambiar esta configuración con [SET SESIONES AUTHORIZATION](https://www.postgresql.org/docs/current/sql-set-session-authorization.html). El  `current_user`es el identificador del usuario que es aplicable para la comprobación de  permisos. Normalmente es igual al usuario de la sesión, pero se puede  cambiar con [SET ROLE](https://www.postgresql.org/docs/current/sql-set-role.html). También cambia durante la ejecución de funciones con el atributo `SECURITY DEFINER`. En Unix parlance, el usuario de sesión es el usuario real y el usuario actual es el usuario eficaz.  `current_role`y  `user`son sinónimos para `current_user`. (El estándar SQL establece una distinción entre  `current_role`y `current_user`, pero PostgreSQL no, ya que unifica a los usuarios y roles en un solo tipo de entidad.)