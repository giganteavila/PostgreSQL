PostgreSQL permite sesiones de bases de datos para sincronizar sus instantáneas. Una *instantánea* determina qué datos son visibles a la transacción que está usando las  instantáneas. Las instantáneas sincronizadas son necesarias cuando dos o más sesiones necesitan ver contenido idéntico en la base de datos. Si  dos sesiones comienzan sus transacciones de forma independiente, siempre existe la posibilidad de que una tercera transacción cometa entre las  ejecuciones de los dos  `START TRANSACTION`comandos, para que una sesión vea los efectos de esa transacción y la otra no.

Para resolver este problema, PostgreSQL permite una transacción para *exportar* la instantánea que está utilizando. Mientras la transacción exportadora permanezca abierta, otras transacciones pueden *importar* su instantánea, y por lo tanto se les garantiza que ven exactamente la  misma opinión de la base de datos que la primera transacción ve. Pero  tenga en cuenta que cualquier cambio en la base de datos realizada por  cualquiera de estas transacciones sigue siendo invisible para las otras  transacciones, como es habitual para los cambios realizados por  transacciones no comprometidas. Así que las transacciones se sincronizan con respecto a los datos preexistentes, pero actúan normalmente para  los cambios que se hacen ellos mismos.

Las instantáneas se exportan con la  `pg_export_snapshot`función, mostrada en [la Tabla 9.94](https://www.postgresql.org/docs/current/functions-admin.html#FUNCTIONS-SNAPSHOT-SYNCHRONIZATION-TABLE), e importada con el comando [SET TRANSACTION](https://www.postgresql.org/docs/current/sql-set-transaction.html).

**Cuadro 9.94. Funciones de sincronización instantáneas**

| Función                Descripción                           |
| ------------------------------------------------------------ |
| `pg_export_snapshot`() `text`                Guarda la instantánea actual de la transacción y devuelve un  `text`cuerda identificando la instantánea. Esta cadena debe ser desmayada (fuera de  la base de datos) a los clientes que quieran importar la instantánea. La instantánea está disponible para importación sólo hasta el final de la  transacción que lo exportó.                Una transacción puede exportar más de una instantánea, si es necesario. Tenga en cuenta que hacerlo sólo es útil en  `READ COMMITTED`transacciones, desde  `REPEATABLE READ`y niveles de aislamiento más altos, las transacciones utilizan la misma  instantánea a lo largo de su vida. Una vez que una transacción ha  exportado cualquier instantánea, no se puede preparar con [PREPARE TRANSACTION](https://www.postgresql.org/docs/current/sql-prepare-transaction.html). |
| `pg_log_standby_snapshot`() `pg_lsn`                Tome una instantánea de las transacciones en marcha y escríbala a WAL, sin tener que esperar a que bg o retenedor registre  una. Esto es útil para la decodificación lógica en espera, ya que la  creación lógica de franjas horarca tiene que esperar hasta que tal  registro se vuelva a jugar en la espera. |